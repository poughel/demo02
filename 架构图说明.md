# DataSophon 架构图补充说明

本文档提供 DataSophon 项目的架构图和流程图，配合《DataSophon需求分析文档.md》使用。

---

## 1. 系统总体架构图

```
┌─────────────────────────────────────────────────────────────────┐
│                          用户层 (User Layer)                      │
│                                                                   │
│  ┌──────────────┐    ┌──────────────┐    ┌──────────────┐      │
│  │   Web 浏览器  │    │  移动端(未来) │    │  API 客户端   │      │
│  └──────┬───────┘    └──────┬───────┘    └──────┬───────┘      │
│         │                   │                   │                │
└─────────┼───────────────────┼───────────────────┼────────────────┘
          │                   │                   │
          └───────────────────┴───────────────────┘
                              │
┌─────────────────────────────┴─────────────────────────────────────┐
│                         接入层 (Access Layer)                      │
│                                                                    │
│  ┌────────────────────────────────────────────────────────┐      │
│  │                    Nginx / API Gateway                  │      │
│  │  - 负载均衡  - HTTPS  - 限流  - 认证/鉴权               │      │
│  └─────────────────────────┬──────────────────────────────┘      │
└────────────────────────────┼─────────────────────────────────────┘
                             │
          ┌──────────────────┴──────────────────┐
          │                                     │
┌─────────▼──────────┐              ┌──────────▼─────────┐
│  datasophon-ui     │              │  datasophon-api    │
│  (前端应用)         │              │  (API服务)          │
│  - Vue.js          │              │  - Spring Boot     │
│  - Ant Design Vue  │              │  - REST API        │
│  - 静态资源服务     │              │  - JWT 认证         │
└────────────────────┘              └──────────┬─────────┘
                                               │
┌──────────────────────────────────────────────▼─────────────────────┐
│                      服务层 (Service Layer)                         │
│                                                                     │
│  ┌──────────────────────────────────────────────────────────────┐ │
│  │              datasophon-service (业务服务)                    │ │
│  │                                                              │ │
│  │  ┌────────────┐  ┌────────────┐  ┌────────────┐           │ │
│  │  │ 集群管理服务 │  │ 主机管理服务 │  │ 告警管理服务 │           │ │
│  │  └────────────┘  └────────────┘  └────────────┘           │ │
│  │                                                              │ │
│  │  ┌────────────┐  ┌────────────┐  ┌────────────┐           │ │
│  │  │ 服务管理服务 │  │ 配置管理服务 │  │ 监控管理服务 │           │ │
│  │  └────────────┘  └────────────┘  └────────────┘           │ │
│  │                                                              │ │
│  │  ┌──────────────────────────────────────────┐              │ │
│  │  │        Akka Actor System (异步消息处理)   │              │ │
│  │  │  - Master Actor  - Command Actor         │              │ │
│  │  └──────────────────────────────────────────┘              │ │
│  └──────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────┬───────────────────────────────────┘
                                  │
┌─────────────────────────────────▼───────────────────────────────────┐
│                      领域层 (Domain Layer)                          │
│                                                                     │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐            │
│  │  Host Domain │  │ Alert Domain │  │Cluster Domain│            │
│  │  - 主机模型   │  │  - 告警模型   │  │  - 集群模型   │            │
│  │  - 主机逻辑   │  │  - 告警逻辑   │  │  - 集群逻辑   │            │
│  └──────────────┘  └──────────────┘  └──────────────┘            │
└─────────────────────────────────┬───────────────────────────────────┘
                                  │
┌─────────────────────────────────▼───────────────────────────────────┐
│                   基础设施层 (Infrastructure Layer)                  │
│                                                                     │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐            │
│  │    MySQL     │  │  Prometheus  │  │   File Sys   │            │
│  │  - 元数据存储 │  │  - 监控数据   │  │  - 配置文件   │            │
│  │  - MyBatis   │  │  - 时序数据   │  │  - 安装包     │            │
│  └──────────────┘  └──────────────┘  └──────────────┘            │
└─────────────────────────────────────────────────────────────────────┘
                                  │
                    Akka Remote (远程通信)
                                  │
┌─────────────────────────────────▼───────────────────────────────────┐
│                       代理层 (Agent Layer)                          │
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐  │
│  │                    大数据集群节点 1-N                         │  │
│  │                                                               │  │
│  │  ┌──────────────────────────────────────────────────────┐   │  │
│  │  │           datasophon-worker (Worker Agent)           │   │  │
│  │  │                                                        │   │  │
│  │  │  ┌────────────┐  ┌────────────┐  ┌────────────┐     │   │  │
│  │  │  │Install Actor│  │ Start Actor│  │ Stop Actor │     │   │  │
│  │  │  └────────────┘  └────────────┘  └────────────┘     │   │  │
│  │  │                                                        │   │  │
│  │  │  ┌────────────┐  ┌────────────┐  ┌────────────┐     │   │  │
│  │  │  │Config Actor│  │Status Actor│  │ Alert Actor│     │   │  │
│  │  │  └────────────┘  └────────────┘  └────────────┘     │   │  │
│  │  └────────────────────┬───────────────────────────────┘   │  │
│  │                       │                                     │  │
│  │  ┌────────────────────▼───────────────────────────────┐   │  │
│  │  │            大数据服务 (Big Data Services)           │   │  │
│  │  │  HDFS │ YARN │ Hive │ HBase │ Spark │ Flink │...  │   │  │
│  │  └──────────────────────────────────────────────────────┘   │  │
│  │                                                               │  │
│  │  ┌──────────────────────────────────────────────────────┐   │  │
│  │  │              监控 Exporter                            │   │  │
│  │  │  Node Exporter │ JMX Exporter │ Service Metrics     │   │  │
│  │  └──────────────────────────────────────────────────────┘   │  │
│  └─────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 2. 模块交互时序图

### 2.1 服务安装流程

```
用户         UI          API        Service       Worker        服务
 │           │           │            │             │           │
 │─选择服务──>│           │            │             │           │
 │           │           │            │             │           │
 │           │─配置参数──>│            │             │           │
 │           │           │            │             │           │
 │           │           │─创建命令──>│             │           │
 │           │           │            │             │           │
 │           │           │            │─发送Actor──>│           │
 │           │           │            │   消息      │           │
 │           │           │            │             │           │
 │           │           │            │             │─下载安装包>│
 │           │           │            │             │           │
 │           │           │            │             │─解压配置──>│
 │           │           │            │             │           │
 │           │           │            │             │─启动服务──>│
 │           │           │            │             │           │
 │           │           │            │             │<─进程启动──│
 │           │           │            │             │           │
 │           │           │            │<─上报结果───│           │
 │           │           │            │             │           │
 │           │           │<─更新状态──│             │           │
 │           │           │            │             │           │
 │           │<─返回结果─│            │             │           │
 │           │           │            │             │           │
 │<─显示成功─│           │            │             │           │
 │           │           │            │             │           │
```

### 2.2 告警触发流程

```
Prometheus  AlertManager  API Service  通知服务  用户/运维
    │            │            │           │          │
    │─评估规则──>│            │           │          │
    │            │            │           │          │
    │─触发告警──>│            │           │          │
    │            │            │           │          │
    │            │─分组去重──>│           │          │
    │            │            │           │          │
    │            │            │─保存记录─>│          │
    │            │            │           │          │
    │            │            │           │─发送邮件>│
    │            │            │           │          │
    │            │            │           │─发送短信>│
    │            │            │           │          │
    │            │            │           │─推送消息>│
    │            │            │           │          │
    │            │            │           │          │<─查看告警──
    │            │            │           │          │
    │            │            │<─标记处理─────────────│
    │            │            │           │          │
```

### 2.3 监控数据采集流程

```
Service   Node Exporter  Prometheus  API Service    UI
  │            │             │            │          │
  │─暴露指标──>│             │            │          │
  │            │             │            │          │
  │            │─暴露指标──>│            │          │
  │            │             │            │          │
  │            │             │─定时拉取─>│          │
  │            │             │            │          │
  │            │             │─存储数据─>│          │
  │            │             │            │          │
  │            │             │            │<─查询请求─│
  │            │             │            │          │
  │            │             │<─PromQL查询│          │
  │            │             │            │          │
  │            │             │─返回数据──>│          │
  │            │             │            │          │
  │            │             │            │─格式化──>│
  │            │             │            │          │
  │            │             │            │          │<─图表展示──
  │            │             │            │          │
```

---

## 3. 数据流图

### 3.1 集群创建数据流

```
┌──────────┐
│  用户输入  │
│ 集群信息  │
└─────┬────┘
      │
      ▼
┌──────────────┐
│  验证集群信息  │
│  - 名称唯一性  │
│  - 版本兼容性  │
└─────┬────────┘
      │
      ▼
┌──────────────────┐
│ 保存到数据库      │
│ t_ddh_cluster_info│
└─────┬────────────┘
      │
      ▼
┌──────────────┐
│  添加主机列表  │
│  - SSH连接测试│
│  - 信息采集   │
└─────┬────────┘
      │
      ▼
┌──────────────────┐
│ 保存主机信息      │
│ t_ddh_cluster_host│
└─────┬────────────┘
      │
      ▼
┌──────────────┐
│ 安装Worker   │
│ - SCP传输    │
│ - SSH执行    │
└─────┬────────┘
      │
      ▼
┌──────────────┐
│ 集群创建完成  │
└──────────────┘
```

### 3.2 配置管理数据流

```
┌──────────────┐
│  配置模板     │
│ (FreeMarker) │
└─────┬────────┘
      │
      ▼
┌──────────────┐     ┌──────────────┐
│  默认配置值   │────>│  用户自定义   │
└──────────────┘     │   配置值     │
                     └─────┬────────┘
                           │
                           ▼
                     ┌──────────────┐
                     │  配置合并     │
                     │  验证        │
                     └─────┬────────┘
                           │
                           ▼
                     ┌──────────────┐
                     │ 模板渲染      │
                     │ (FreeMarker) │
                     └─────┬────────┘
                           │
                           ▼
                     ┌──────────────┐
                     │ 生成配置文件  │
                     │ (XML/Prop)   │
                     └─────┬────────┘
                           │
                           ▼
                     ┌──────────────┐
                     │ SCP分发到     │
                     │ 目标节点      │
                     └─────┬────────┘
                           │
                           ▼
                     ┌──────────────┐
                     │ 保存配置历史  │
                     │ (数据库)     │
                     └──────────────┘
```

---

## 4. 部署架构图

### 4.1 单机部署架构

```
┌───────────────────────────────────────────────────────┐
│               管理节点 (192.168.1.10)                   │
│                                                         │
│  ┌────────────────────────────────────────────────┐   │
│  │             Nginx (端口 80/443)                │   │
│  └───────────┬────────────────────────────────────┘   │
│              │                                         │
│  ┌───────────▼───────────┐  ┌──────────────────┐    │
│  │  datasophon-ui        │  │ datasophon-api   │    │
│  │  (端口 8080)          │  │ (端口 8081)      │    │
│  └───────────────────────┘  └────────┬─────────┘    │
│                                       │               │
│  ┌────────────────────────────────────▼────────────┐ │
│  │           datasophon-service (内部服务)         │ │
│  └────────────────────────────────────┬────────────┘ │
│                                        │               │
│  ┌────────────────────────────────────▼────────────┐ │
│  │          MySQL (端口 3306)                      │ │
│  │          - datasophon 数据库                    │ │
│  └──────────────────────────────────────────────────┘ │
│                                                         │
│  ┌──────────────────────────────────────────────────┐ │
│  │       Prometheus + Grafana (可选)               │ │
│  │       - 端口 9090, 3000                          │ │
│  └──────────────────────────────────────────────────┘ │
└───────────────────────────────────────────────────────┘
```

### 4.2 高可用部署架构

```
                        ┌──────────────┐
                        │  负载均衡器   │
                        │   (LVS/F5)   │
                        └──────┬───────┘
                               │
               ┌───────────────┴───────────────┐
               │                               │
    ┌──────────▼──────────┐       ┌──────────▼──────────┐
    │   管理节点 1         │       │   管理节点 2         │
    │ datasophon-api      │       │ datasophon-api      │
    │ datasophon-service  │       │ datasophon-service  │
    └──────────┬──────────┘       └──────────┬──────────┘
               │                               │
               └───────────────┬───────────────┘
                               │
                    ┌──────────▼──────────┐
                    │   MySQL 主从集群    │
                    │   - 主库            │
                    │   - 从库 1, 2       │
                    └─────────────────────┘

┌──────────────────────────────────────────────────────────┐
│              大数据集群节点 (Node 1-N)                    │
│                                                            │
│  每个节点运行:                                             │
│  - datasophon-worker                                     │
│  - Big Data Services (HDFS, YARN, HBase, etc.)          │
│  - Monitoring Exporters (Node Exporter, JMX Exporter)   │
└──────────────────────────────────────────────────────────┘
```

---

## 5. 安全架构图

```
┌─────────────────────────────────────────────────────────────┐
│                      安全层次架构                            │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  第一层: 网络安全                                            │
│  - 防火墙规则                                                │
│  - 安全组配置                                                │
│  - VPN 访问控制                                              │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│  第二层: 接入安全                                            │
│  - HTTPS 加密传输                                            │
│  - SSL/TLS 证书                                              │
│  - API Gateway 限流                                          │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│  第三层: 认证安全                                            │
│  - 用户登录认证 (用户名/密码)                                 │
│  - JWT Token 验证                                            │
│  - Session 管理                                              │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│  第四层: 授权安全                                            │
│  - RBAC 角色权限控制                                         │
│  - 集群级别权限                                              │
│  - 操作级别权限                                              │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│  第五层: 数据安全                                            │
│  - Kerberos 认证 (大数据服务)                                │
│  - Ranger 数据权限控制                                       │
│  - 敏感数据加密存储                                          │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│  第六层: 审计安全                                            │
│  - 操作日志记录                                              │
│  - 审计日志分析                                              │
│  - 合规报告生成                                              │
└─────────────────────────────────────────────────────────────┘
```

---

## 6. 技术栈架构图

```
┌───────────────────────────────────────────────────────────────┐
│                         前端技术栈                             │
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │   Vue.js    │  │ Ant Design  │  │   Vuex      │          │
│  │    2.6.11   │  │    Vue      │  │   (状态)    │          │
│  └─────────────┘  └─────────────┘  └─────────────┘          │
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │ Vue Router  │  │   Axios     │  │  ECharts    │          │
│  │   (路由)    │  │   (HTTP)    │  │   (图表)    │          │
│  └─────────────┘  └─────────────┘  └─────────────┘          │
└───────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌───────────────────────────────────────────────────────────────┐
│                         后端技术栈                             │
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │Spring Boot  │  │   Spring    │  │   Spring    │          │
│  │   2.6.1     │  │    MVC      │  │  Security   │          │
│  └─────────────┘  └─────────────┘  └─────────────┘          │
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │ MyBatis     │  │    Akka     │  │ FreeMarker  │          │
│  │   Plus      │  │  (Actor)    │  │  (模板)     │          │
│  └─────────────┘  └─────────────┘  └─────────────┘          │
└───────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌───────────────────────────────────────────────────────────────┐
│                       存储和中间件                             │
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │   MySQL     │  │ Prometheus  │  │  File Sys   │          │
│  │   8.0.28    │  │  (监控)     │  │  (文件)     │          │
│  └─────────────┘  └─────────────┘  └─────────────┘          │
└───────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌───────────────────────────────────────────────────────────────┐
│                       基础设施层                               │
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │   Linux     │  │     JDK     │  │   Maven     │          │
│  │  CentOS/... │  │     1.8     │  │   (构建)    │          │
│  └─────────────┘  └─────────────┘  └─────────────┘          │
└───────────────────────────────────────────────────────────────┘
```

---

## 7. 核心业务流程图

### 7.1 集群生命周期管理

```
    ┌─────────┐
    │  开始   │
    └────┬────┘
         │
         ▼
    ┌─────────┐
    │创建集群  │
    └────┬────┘
         │
         ▼
    ┌─────────┐      ┌─────────┐
    │添加主机  │─────>│安装Worker│
    └────┬────┘      └─────────┘
         │
         ▼
    ┌─────────┐
    │安装服务  │
    └────┬────┘
         │
         ├──> ┌─────────┐
         │    │ HDFS    │
         │    └─────────┘
         │
         ├──> ┌─────────┐
         │    │ YARN    │
         │    └─────────┘
         │
         └──> ┌─────────┐
              │ Hive等  │
              └─────────┘
         │
         ▼
    ┌─────────┐
    │配置服务  │
    └────┬────┘
         │
         ▼
    ┌─────────┐
    │启动服务  │
    └────┬────┘
         │
         ▼
    ┌─────────┐
    │运行维护  │<────┐
    └────┬────┘     │
         │          │
         ├──────────┘
         │  监控/告警/配置变更
         │
         ▼
    ┌─────────┐
    │停止服务  │
    └────┬────┘
         │
         ▼
    ┌─────────┐
    │删除集群  │
    └────┬────┘
         │
         ▼
    ┌─────────┐
    │  结束   │
    └─────────┘
```

### 7.2 告警处理流程

```
    ┌─────────┐
    │监控指标  │
    │采集     │
    └────┬────┘
         │
         ▼
    ┌─────────┐
    │规则评估  │
    └────┬────┘
         │
         ▼
    ┌─────────────┐
    │是否超过阈值？│
    └────┬────────┘
         │
    ┌────┴────┐
    │         │
   否│        │是
    │         │
    ▼         ▼
┌──────┐  ┌──────────┐
│忽略  │  │触发告警  │
└──────┘  └────┬─────┘
               │
               ▼
          ┌──────────┐
          │分组去重  │
          └────┬─────┘
               │
               ▼
          ┌──────────┐
          │发送通知  │
          └────┬─────┘
               │
               ├──> 邮件
               ├──> 短信
               └──> 钉钉/企业微信
               │
               ▼
          ┌──────────┐
          │记录历史  │
          └────┬─────┘
               │
               ▼
          ┌──────────┐
          │运维处理  │
          └────┬─────┘
               │
               ▼
          ┌──────────┐
          │标记已处理│
          └────┬─────┘
               │
               ▼
          ┌──────────┐
          │  结束    │
          └──────────┘
```

---

## 8. 代码模块依赖图

```
┌──────────────────────────────────────────────────────────┐
│                    datasophon-api                        │
│  - Controller (37个控制器)                               │
│  - Security (认证/鉴权)                                   │
│  - Interceptor (拦截器)                                   │
└────────────────────┬─────────────────────────────────────┘
                     │ depends on
                     ▼
┌──────────────────────────────────────────────────────────┐
│                  datasophon-service                      │
│  - Service Interface & Implementation                    │
│  - Handler (操作处理器)                                   │
│  - Strategy (策略模式)                                    │
└────────────────────┬─────────────────────────────────────┘
                     │ depends on
                     ▼
┌──────────────────────────────────────────────────────────┐
│                   datasophon-domain                      │
│  - Domain Models (领域模型)                               │
│  - Business Logic (业务逻辑)                              │
│  - Gateway Interface (网关接口)                           │
└────────────────────┬─────────────────────────────────────┘
                     │ depends on
                     ▼
┌──────────────────────────────────────────────────────────┐
│                datasophon-infrastructure                 │
│  - Persistence (数据持久化)                               │
│  - External Integration (外部集成)                        │
│  - Gateway Implementation (网关实现)                      │
└────────────────────┬─────────────────────────────────────┘
                     │
        ┌────────────┴────────────┐
        │ depends on              │ depends on
        ▼                         ▼
┌──────────────────┐      ┌──────────────────┐
│datasophon-common │      │datasophon-worker │
│  - Utils         │      │  - Actor System  │
│  - Enums         │      │  - Strategy      │
│  - Models        │      │  - Utils         │
└──────────────────┘      └──────────────────┘
```

---

## 9. 性能优化架构

```
┌─────────────────────────────────────────────────────────┐
│                     性能优化层次                         │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│  前端优化                                                │
│  - 代码分割 (Code Splitting)                            │
│  - 懒加载 (Lazy Loading)                                │
│  - 资源压缩 (Gzip/Brotli)                               │
│  - CDN 加速                                              │
└─────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────┐
│  接入层优化                                              │
│  - Nginx 负载均衡                                        │
│  - HTTP/2 支持                                           │
│  - 静态资源缓存                                          │
│  - 连接池管理                                            │
└─────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────┐
│  应用层优化                                              │
│  - 异步处理 (Akka Actor)                                │
│  - 线程池优化                                            │
│  - JVM 参数调优                                          │
│  - 缓存机制 (未来: Redis)                               │
└─────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────┐
│  数据层优化                                              │
│  - SQL 优化                                              │
│  - 索引优化                                              │
│  - 连接池配置                                            │
│  - 读写分离 (主从复制)                                   │
└─────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────┐
│  监控与调优                                              │
│  - APM 性能监控                                          │
│  - 慢查询分析                                            │
│  - 瓶颈识别                                              │
│  - 持续优化                                              │
└─────────────────────────────────────────────────────────┘
```

---

## 10. 扩展性架构

```
┌─────────────────────────────────────────────────────────┐
│                    扩展性设计                            │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│  组件扩展                                                │
│  ┌────────────────────────────────────────────────┐    │
│  │  自定义服务框架 (Frame)                        │    │
│  │  - 配置模板 (service-config.json)             │    │
│  │  - 启动脚本 (start.sh)                        │    │
│  │  - 监控指标定义                                │    │
│  └────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────┐
│  监控扩展                                                │
│  ┌────────────────────────────────────────────────┐    │
│  │  自定义监控指标                                │    │
│  │  - PromQL 表达式                               │    │
│  │  - 告警规则                                    │    │
│  │  - 图表定义                                    │    │
│  └────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────┐
│  接口扩展                                                │
│  ┌────────────────────────────────────────────────┐    │
│  │  REST API                                      │    │
│  │  - 标准化接口                                  │    │
│  │  - OpenAPI 文档                                │    │
│  │  - 第三方集成                                  │    │
│  └────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────┐
│  插件扩展 (未来)                                         │
│  ┌────────────────────────────────────────────────┐    │
│  │  插件化架构                                    │    │
│  │  - 动态加载                                    │    │
│  │  - 热插拔                                      │    │
│  │  - 插件市场                                    │    │
│  └────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────┘
```

---

## 总结

本文档通过多个架构图和流程图，从不同角度展示了 DataSophon 项目的技术架构：

1. **系统架构**：展示了整体分层架构和模块关系
2. **交互流程**：说明了关键业务流程的时序关系
3. **数据流**：描述了数据在系统中的流转过程
4. **部署架构**：提供了单机和高可用部署方案
5. **安全架构**：展示了多层安全防护体系
6. **技术栈**：列举了前后端使用的技术组件
7. **业务流程**：描述了核心业务的完整流程
8. **模块依赖**：说明了代码模块间的依赖关系
9. **性能优化**：展示了性能优化的各个层次
10. **扩展性**：说明了系统的扩展能力

这些图表配合《DataSophon需求分析文档.md》使用，能够帮助读者更直观地理解 DataSophon 项目的架构设计和实现方式。
